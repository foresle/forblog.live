---
title: "SQL –ø–µ—Ä—Ñ–µ–∫—Ü—ñ–æ–Ω—ñ–∑–º –≤ PocketBook"
slug: "8b551083d68e4c91af412697b7c3ce8b"
date: 2023-01-22T13:34:28+02:00
draft: false
series:
 - "–°—Ç–∞—Ç—Ç—ñ"
 
tags:
 - "—Å—Ç–∞—Ç—Ç—è"
 
description: "–†—ñ–¥–µ—Ä –Ω–µ —Ä–æ–∑—É–º—ñ—î –º–æ—î—ó –ø–æ—Ç—Ä–µ–±–∏ –≤ —á–∏—Å—Ç–æ—Ç—ñ."
---

# Pocket Book Reader

–ö–æ–ª–∏ —è –∫—É–ø–∏–≤ —Ç–æ–π —Ä—ñ–¥–µ—Ä —Ç–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–≤ –¥–æ —Å—Ç–æ –±—ñ—Å—ñ–≤ –∫–Ω–∏–∂–æ–∫, –∞–ª–µ –±—ñ–ª—å—à—ñ—Å—Ç—å –Ω–µ —á–∏—Ç–∞–≤ –¥–∞–ª—ñ –∞–Ω–æ—Ç–∞—Ü—ñ—ó —ñ –ø—Ä–æ—Å—Ç–æ –≤–∏–¥–∞–ª–∏–≤. –†—ñ–¥–µ—Ä –Ω–µ —Ä–æ–∑—É–º—ñ—î –º–æ—î—ó –ø–æ—Ç—Ä–µ–±–∏ –≤ —á–∏—Å—Ç–æ—Ç—ñ —Ç–æ–º—É —Ç–µ–ø–µ—Ä –≤ –ë–î –ª–µ–∂–∞—Ç—å –∑–∞–π–≤—ñ –∑–∞–ø–∏—Å–∏ –ø—Ä–æ –∫–Ω–∏–≥–∏ —è–∫–∏—Ö –Ω–µ —ñ—Å–Ω—É—î, –º–µ–Ω–µ —Ü–µ –Ω–µ –∞–±–∏ —è–∫ –±—ñ—Å–∏—Ç—å, –∞ –Ω–æ—Ä–º–∞–ª—å–Ω–æ—ó –∞–±–æ —Ö–æ—á–∞ –± —è–∫–æ—ó—Å—å –ø—Ä–æ–≥—Ä–∞–º–∏ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞–Ω–Ω—è —Ü—å–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É –Ω–µ —ñ—Å–Ω—É—î, —Ç–æ–º—É —Ç—Ä–µ–±–∞ —è–∫–æ—Å—å –≤–∏–∫—Ä—É—á—É–≤–∞—Ç–∏—Å—è.

–ü—Ä–æ—Å—Ç–æ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ç–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –æ–±–ª—ñ–∫–æ–≤–∫—É Pocket Book Cloud –Ω–µ –≤–∏–π–¥–µ, –∞–¥–∂–µ –¥–æ–≤–µ–¥–µ—Ç—å—Å—è –≤–∏–¥–∞–ª–∏—Ç–∏ —Ç–∞–∫–æ–∂ –æ–±–ª—ñ–∫–æ–≤–∫—É –∫—Ä–∞–º–Ω–∏—á–∫–∏ —Ä–∞–∑–æ–º –∑ –∫—É–ø–ª–µ–Ω–∏–º–∏ —Ä–∞–Ω—ñ—à–µ –∫–Ω–∏–∂–∫–∞–º–∏, –∞ —â–µ –≤—Ç—Ä–∞—á—É –Ω–æ—Ç–∞—Ç–∫–∏.

–Ñ–¥–∏–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç —è–∫–∏–π —è –±–∞—á—É —Ü–µ –≤–ª—ñ–∑—Ç–∏ –≤ –ë–î –Ω–∞–ø—Ä—è–º—É (—Ç–∞–º sqlite), –≤—ñ–¥—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ –≤—Å–µ —ñ –ø–æ—Ç—ñ–º —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏.

## –î–æ —Å–ø—Ä–∞–≤–∏

–°–ø–æ—á–∞—Ç–∫—É —Ç—Ä–µ–±–∞ –∑–Ω–∞–π—Ç–∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ –≤—Å—ñ –ë–î –Ω–∞ —Ä—ñ–¥–µ—Ä—ñ –ø–µ—Ä–µ–¥ —Ü–∏–º —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞–≤—à–∏ –π–æ–≥–æ –∑ —Ö–º–∞—Ä–æ—é.

```shell
find -name "*.db"
find -name "*.sqlite"
```

![1.png](1.png)

–î–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ —Å–∫–æ–ø—ñ—é—é –≤—Å—ñ —Ñ–∞–π–ª–∏ –≤ –æ–¥–Ω—É —Ç–µ–∫—É —Ç–∞ —Ä–æ–∑–±–µ—Ä—É—Å—è —â–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –∫–æ–∂–Ω—ñ–π –ë–î.

```shell
mkdir ~/–†–æ–∑—Ä–æ–±–∫–∞/PocketBookReaderDBs
find -name "*.db" | xargs cp -t ~/–†–æ–∑—Ä–æ–±–∫–∞/PocketBookReaderDBs
find -name "*.sqlite" | xargs cp -t ~/–†–æ–∑—Ä–æ–±–∫–∞/PocketBookReaderDBs
```

![2.png](2.png)

–ü–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏–º—É –≤ `sqlitebrowser`.

- `bookstore_feeds_cache.sqlite` - –ø—É—Å—Ç–∞.
- `player-2.db` - –ø—É—Å—Ç–∞.
- `empik-2.db` - –ø—É—Å—Ç–∞.
- `pbdicts.db` - —Å–ª–æ–≤–Ω–∏–∫–∏.
- `explorer-3.db` - —à–ª—è—Ö–∏ –¥–æ —Ñ–∞–π–ª—ñ–≤ –∫–Ω–∏–∂–æ–∫.
- `books.db` - –≤—Å—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è —â–æ–¥–æ –∫–Ω–∏–∂–∫–∏, —Ä–∞–∑–æ–º –∑ –Ω–æ—Ç–∞—Ç–∫–∞–º–∏.

–í–ª–∞—Å–Ω–µ –º–µ–Ω–µ —Ü—ñ–∫–∞–≤–∏—Ç—å –ª–∏—à–µ –¥–≤—ñ –æ—Å—Ç–∞–Ω–Ω—ñ –ë–î, —Å–∞–º–µ –≤ –Ω–∏—Ö –ª–µ–∂–∞—Ç—å –∑–∞–π–≤—ñ –∑–∞–ø–∏—Å–∏.

–í–∏–ø–∏—Å–∞–≤ `id` –∫–æ–∂–Ω–æ—ó –∫–Ω–∏–≥–∏ —è–∫—É —è –≤–∏–¥–∞–ª–∏–≤ —ñ –Ω–µ —á–∏—Ç–∞–≤ (–∑ –ë–î `explorer-3.db`), –ø—ñ—Å–ª—è —Ü—å–æ–≥–æ –≤–∏–¥–∞–ª—è—é –∑–∞–ø–∏—Å–∏ —Å–ø–æ—á–∞—Ç–∫—É –≤ —Ç–∞–±–ª–∏—Ü—ñ `books_settings`, –∞ –ø–æ—Ç—ñ–º `books_impl`.

–°–ø–∏—Å–æ–∫ `id`-—à–æ–∫: `1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, 15, 16, 18, 19, 20, 21, 26, 33, 34, 35, 40, 41`

```sql
DELETE FROM books_settings WHERE bookid IN (1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, 15, 16, 18, 19, 20, 21, 26, 33, 34, 35, 40, 41);
```

```sql
DELETE FROM books_impl WHERE id IN (1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, 15, 16, 18, 19, 20, 21, 26, 33, 34, 35, 40, 41);
```

–¢–µ–ø–µ—Ä –Ω–∞—Å—Ç—É–ø–Ω–∞ –ë–î `books.db`.

–ó–Ω–æ–≤—É `id`-—à–∫–∏: `2, 3, 4, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 26, 33, 34, 35, 40, 41`

```sql
DELETE FROM Books WHERE OID IN (2, 3, 4, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 26, 33, 34, 35, 40, 41);
```

–õ–∏—à–∞—î—Ç—å—Å—è —Ç–∞–±–ª–∏—Ü—è `Items` –∑ –∫—É–ø–æ—é –∑–∞–ø–∏—Å—ñ–≤, —Å–ø–æ—á–∞—Ç–∫—É –≤–∏–¥–∞–ª—è—î–º–æ –∑–∞–ª–µ–∂–Ω—ñ `ParentID`, –∞ –ø–æ—Ç—ñ–º `OID`.

```sql
DELETE FROM Items WHERE ParentID IN (2, 3, 4, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 26, 33, 34, 35, 40, 41);
DELETE FROM Items WHERE OID IN (2, 3, 4, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 26, 33, 34, 35, 40, 41);
```

–ó —Ç–∞–±–ª–∏—Ü—ñ `Tags` –∑–∞–ø–∏—Å–∏ –≤–∏–¥–∞–ª—è—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–∞–∑–æ–º –∑ `Items`.

–©–æ –∂, —Ç–µ–ø–µ—Ä –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ –±–µ–∫–∞–ø —Ç–∞–±–ª–∏—Ü—å —Ç–∞ –≤—ñ–¥—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ –æ—Ä–∏–≥—ñ–Ω–∞–ª–∏, –ø—ñ—Å–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏ —Ä—ñ–¥–µ—Ä –∑ —Ö–º–∞—Ä–æ—é —ñ –ø–æ–¥–∏–≤–∏—Ç–∏—Å—è, —â–æ –∑ —Ü—å–æ–≥–æ –≤–∏–π—à–ª–æ.

#### –í—Å–µ –≤–∏–π—à–ª–æ ü´†Ô∏è.
